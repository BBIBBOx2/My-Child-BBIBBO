<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
    <meta charset="utf-8">
    <title>BBIBBOx2_demo</title>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <script th:src="@{'https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId='+${@environment.getProperty('naver.id')}}"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.slim.js" integrity="sha256-HwWONEZrpuoh951cQD1ov2HUK5zA5DwJ1DNUXaM6FsY=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

</head>

<body onload="javascript:initMap()">

<div id="map" style="width:100%;height:800px;"></div>
<script type="text/javascript">
    var map = new naver.maps.Map("map", {
        zoom: 10,
        center: new naver.maps.LatLng(37.527467, 126.982318),
        zoomControl: true,
        zoomControlOptions: {
            position: naver.maps.Position.TOP_LEFT,
            style: naver.maps.ZoomControlStyle.SMALL
        }
    });

    var markers = [];

    function initMap() {

        $.ajax({
            type:"get",
            url:"data.json",
            dataType:"json",
            success: function(data){
                $.each(data , function(i){
                    var x = data[i].latitude;
                    var y = data[i].longitude;
                    var marker = new naver.maps.Marker({
                        position: new naver.maps.LatLng(x, y),
                        map: map,
                        draggable: false
                    });

                    markers.push(marker);
                });
            },
            error:function(){
                console.log("통신에러");
            }
        })
    }


</script>
<script src="/static/plugins/jquery/jquery-1.12.4.js"></script>
<script src="/static/plugins/match-height/jquery.matchHeight-min.js"></script>

</body>